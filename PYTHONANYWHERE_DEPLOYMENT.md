# ุฑุงูููุง ุฑุงูโุงูุฏุงุฒ ุฑุจุงุช ุชูฺฏุฑุงู ููุณู ุฑู PythonAnywhere

ุงู ุฑุงูููุง ุจู ุดูุง ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ุฑุจุงุช ุชูฺฏุฑุงู ููุณู ุฑุง ุฑู PythonAnywhere ุฑุงูโุงูุฏุงุฒ ฺฉูุฏ.

## ๐ ูพุดโูุงุฒูุง

1. **ุญุณุงุจ PythonAnywhere**
   - ฺฉ ุญุณุงุจ ุฑุงฺฏุงู ุง ูพูู ุฑู PythonAnywhere
   - ุฏุณุชุฑุณ ุจู ฺฉูุณูู bash

2. **ุฑุจุงุช ุชูฺฏุฑุงู**
   - ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู (ุงุฒ @BotFather)
   - ูุงู ฺฉุงุฑุจุฑ ุฑุจุงุช

3. **ุฏุงูุด ูู**
   - ุขุดูุง ุจุง ุฏุณุชูุฑุงุช ูููฺฉุณ
   - ุขุดูุง ุจุง Git

## ๐ ูุฑุงุญู ุฑุงูโุงูุฏุงุฒ

### ูุฑุญูู ฑ: ุขูุงุฏูโุณุงุฒ ูุญุท

1. **ูุงุฑุฏ ุญุณุงุจ PythonAnywhere ุฎูุฏ ุดูุฏ**
   - ุจู [pythonanywhere.com](https://www.pythonanywhere.com) ุจุฑูุฏ
   - ูุงุฑุฏ ุญุณุงุจ ฺฉุงุฑุจุฑ ุฎูุฏ ุดูุฏ

2. **ุจู ฺฉูุณูู ุจุฑูุฏ**
   - ุงุฒ ููู ุจุงูุงุ **"Consoles"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
   - ุฑู **"Start a new console"** ฺฉูฺฉ ฺฉูุฏ
   - **"Bash"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ

### ูุฑุญูู ฒ: ุฏุงูููุฏ ู ุขูุงุฏูโุณุงุฒ ูพุฑูฺู

1. **ุฏุงูููุฏ ูพุฑูฺู**
```bash
cd /home/your_username
git clone https://github.com/yourusername/telegram-music-bot.git
cd telegram-music-bot
```

**ุชูุฌู**: `your_username` ุฑุง ุจุง ูุงู ฺฉุงุฑุจุฑ ูุงูุน ุฎูุฏ ุฏุฑ PythonAnywhere ุฌุงฺฏุฒู ฺฉูุฏ.

2. **ุจูููโุณุงุฒ ูุงูโูุง ุจุฑุง PythonAnywhere**
```bash
# ูุฑุงุด ูุงู wsgi_config.py
nano wsgi_config.py
```

ุฏุฑ ูุงู `wsgi_config.py`ุ ุฎุท ุฒุฑ ุฑุง ูพุฏุง ฺฉุฑุฏู ู ูุงู ฺฉุงุฑุจุฑ ุฎูุฏ ุฑุง ุฌุงฺฏุฒู ฺฉูุฏ:
```python
project_home = '/home/your_username/telegram_music_bot'  # Replace with your username
```

3. **ูุฑุงุด ูุงู run_bot.sh**
```bash
nano run_bot.sh
```

ุฏุฑ ูุงู `run_bot.sh`ุ ูุชุบุฑ ุฒุฑ ุฑุง ูุฑุงุด ฺฉูุฏ:
```bash
PYTHONANYWHERE_USERNAME="your_username"  # Replace with your actual username
```

### ูุฑุญูู ณ: ุงุฌุงุฏ ูุญุท ูุฌุงุฒ (Virtual Environment)

1. **ุงุฌุงุฏ virtual environment**
```bash
cd /home/your_username
python3.8 -m venv .virtualenvs/telegram_music_bot
source .virtualenvs/telegram_music_bot/bin/activate
```

2. **ูุตุจ ูพฺฉุฌโูุง ููุฑุฏ ูุงุฒ**
```bash
cd /home/your_username/telegram_music_bot
pip install --upgrade pip
pip install -r requirements.txt
```

### ูุฑุญูู ด: ูพฺฉุฑุจูุฏ ุฑุจุงุช

1. **ุงุฌุฑุง ุงุณฺฉุฑูพุช ุชูุธูุงุช**
```bash
chmod +x setup.sh
./setup.sh
```

2. **ูุงุฑุฏ ฺฉุฑุฏู ุงุทูุงุนุงุช**
   - ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ
   - ูุงู ฺฉุงุฑุจุฑ ุฑุจุงุช ุฑุง ูุงุฑุฏ ฺฉูุฏ
   - ุดูุงุณู ฺฉุงุฑุจุฑ ุงุฏูู ุฑุง ูุงุฑุฏ ฺฉูุฏ
   - (ุงุฎุชุงุฑ) ุงุทูุงุนุงุช Spotify ุฑุง ูุงุฑุฏ ฺฉูุฏ

### ูุฑุญูู ต: ุชุณุช ุฑุจุงุช

1. **ุชุณุช ุงุฌุฑุง ุฑุจุงุช**
```bash
cd /home/your_username/telegram_music_bot
source /home/your_username/.virtualenvs/telegram_music_bot/bin/activate
python src/main_optimized.py
```

ุงฺฏุฑ ุฑุจุงุช ุจุฏูู ุฎุทุง ุงุฌุฑุง ุดุฏุ ุจุง `Ctrl+C` ุขู ุฑุง ูุชููู ฺฉูุฏ.

### ูุฑุญูู ถ: ุงุฌุงุฏ Task ุจุฑุง ุงุฌุฑุง ุฎูุฏฺฉุงุฑ

1. **ุจู ุจุฎุด Tasks ุจุฑูุฏ**
   - ุงุฒ ููู ุจุงูุงุ **"Tasks"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ

2. **ุงุฌุงุฏ Task ุฌุฏุฏ**
   - ุฑู **"Create a new task"** ฺฉูฺฉ ฺฉูุฏ
   - ุชูุธูุงุช ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:

   **Description**: `Telegram Music Bot`
   
   **Command**: 
   ```
   /home/your_username/telegram_music_bot/run_bot.sh start
   ```
   
   **Timeout**: `24 hours`
   
   **Hour**: `*`
   
   **Minute**: `*/5`
   
   **Day of week**: `*`

3. **ุฐุฎุฑู Task**
   - ุฑู **"Create"** ฺฉูฺฉ ฺฉูุฏ

### ูุฑุญูู ท: ุฑุงูโุงูุฏุงุฒ Web App (ุงุฎุชุงุฑ)

ุจุฑุง ุฏุงุดุชู ฺฉ ูุจ ุงูพูฺฉุดู ุจุฑุง ูุงูุชูุฑูฺฏ:

1. **ุจู ุจุฎุด Web ุจุฑูุฏ**
   - ุงุฒ ููู ุจุงูุงุ **"Web"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ

2. **ุงุฌุงุฏ Web App ุฌุฏุฏ**
   - ุฑู **"Add a new web app"** ฺฉูฺฉ ฺฉูุฏ
   - **"Python"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
   - **"Python 3.8"** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
   - ูุณุฑ ูพุฑูฺู ุฑุง ูุงุฑุฏ ฺฉูุฏ: `/home/your_username/telegram_music_bot`

3. **ูพฺฉุฑุจูุฏ WSGI**
   - ุฏุฑ ุจุฎุด **"WSGI configuration file"**ุ ูุณุฑ ุฒุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ:
   ```
   /home/your_username/telegram_music_bot/wsgi_config.py
   ```

4. **ุฐุฎุฑู ู ุฑุงูโุงูุฏุงุฒ**
   - ุฑู **"Save"** ฺฉูฺฉ ฺฉูุฏ
   - ุณูพุณ ุฑู **"Reload"** ฺฉูฺฉ ฺฉูุฏ

## ๐ง ุนุจโุงุจ ู ูุดฺฉูุงุช ุฑุงุฌ

### ูุดฺฉู ฑ: ุฎุทุง "Module not found"
**ุฑุงูโุญู**:
```bash
source /home/your_username/.virtualenvs/telegram_music_bot/bin/activate
pip install -r requirements.txt
```

### ูุดฺฉู ฒ: ุฎุทุง "Permission denied"
**ุฑุงูโุญู**:
```bash
chmod +x setup.sh
chmod +x run_bot.sh
chmod +x start_bot.sh
```

### ูุดฺฉู ณ: ุฑุจุงุช ูพุงุณุฎ ููโุฏูุฏ
**ุฑุงูโุญู**:
1. ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ:
```bash
tail -f /home/your_username/logs/telegram_music_bot.log
```

2. Task ุฑุง ุฑโุงุณุชุงุฑุช ฺฉูุฏ:
   - ุจู ุจุฎุด **"Tasks"** ุจุฑูุฏ
   - Task ุฑุง ุบุฑูุนุงู ู ุฏูุจุงุฑู ูุนุงู ฺฉูุฏ

### ูุดฺฉู ด: ุฎุทุง ุญุงูุธู (Memory Error)
**ุฑุงูโุญู**:
PythonAnywhere ุฑุงฺฏุงู ูุญุฏูุฏุช ุญุงูุธู ุฏุงุฑุฏ. ุจุฑุง ฺฉุงูุด ูุตุฑู ุญุงูุธู:

1. ูุงูโูุง ูุฏู ุฑุง ูพุงฺฉ ฺฉูุฏ:
```bash
/home/your_username/telegram_music_bot/run_bot.sh cleanup
```

2. ุงุฒ ูุณุฎู ุจูููโุดุฏู ุงุณุชูุงุฏู ฺฉูุฏ:
```bash
python src/main_optimized.py
```

### ูุดฺฉู ต: ุฎุทุง ุดุจฺฉู
**ุฑุงูโุญู**:
1. ุงุชุตุงู ุงูุชุฑูุช ุฑุง ุจุฑุฑุณ ฺฉูุฏ
2. ูุงุฑูุงู PythonAnywhere ุฑุง ุจุฑุฑุณ ฺฉูุฏ
3. ุงุฒ VPN ุงุณุชูุงุฏู ูฺฉูุฏ

## ๐ ูุงูุชูุฑูฺฏ ู ูฺฏูุฏุงุฑ

### ุจุฑุฑุณ ูุงฺฏโูุง
```bash
# ูุดุงูุฏู ูุงฺฏโูุง ุฑุจุงุช
tail -f /home/your_username/logs/telegram_music_bot.log

# ูุดุงูุฏู ูุงฺฏโูุง ุณุณุชู
tail -f /var/log/apache2/error.log
```

### ุจุฑุฑุณ ูุถุนุช ุฑุจุงุช
```bash
# ุจุฑุฑุณ ุณูุงูุช ุฑุจุงุช
/home/your_username/telegram_music_bot/run_bot.sh health

# ุจุฑุฑุณ ูุถุนุช ูพุฑุฏุงุฒุด
ps aux | grep python
```

### ุจูโุฑูุฒุฑุณุงู ุฑุจุงุช
```bash
cd /home/your_username/telegram_music_bot
git pull origin main
source /home/your_username/.virtualenvs/telegram_music_bot/bin/activate
pip install -r requirements.txt
```

### ูพุดุชุจุงูโฺฏุฑ
```bash
# ูพุดุชุจุงูโฺฏุฑ ุงุฒ ุชูุธูุงุช
cp config/config.py config/config.py.backup

# ูพุดุชุจุงูโฺฏุฑ ุงุฒ ฺฉู ูพุฑูฺู
tar -czf backup.tar.gz /home/your_username/telegram_music_bot
```

## ๐ ูฺฉุงุช ุจูููโุณุงุฒ

### ฑ. ุจูููโุณุงุฒ ุญุงูุธู
- ุงุฒ ูุณุฎู ุจูููโุดุฏู (`main_optimized.py`) ุงุณุชูุงุฏู ฺฉูุฏ
- ุจูโุทูุฑ ููุธู ูุงูโูุง ูููุช ุฑุง ูพุงฺฉ ฺฉูุฏ
- ุงุฒ ุชุงุจุน `cleanup` ุฏุฑ ุงุณฺฉุฑูพุช ุงุณุชูุงุฏู ฺฉูุฏ

### ฒ. ุจูููโุณุงุฒ ุดุจฺฉู
- ุงุฒ timeout ููุงุณุจ ุฏุฑ ุฏุฑุฎูุงุณุชโูุง ุงุณุชูุงุฏู ฺฉูุฏ
- ุงุฒ retry logic ุจุฑุง ุฏุฑุฎูุงุณุชโูุง ูุงูููู ุงุณุชูุงุฏู ฺฉูุฏ
- ฺฉุด ุฑุง ูุนุงู ฺฉูุฏ

### ณ. ุจูููโุณุงุฒ ูพุฑุฏุงุฒุด
- ุงุฒ async/await ุจุฑุง ุนููุงุช I/O ุงุณุชูุงุฏู ฺฉูุฏ
- ุงุฒ uvloop ุจุฑุง ุนููฺฉุฑุฏ ุจูุชุฑ ุงุณุชูุงุฏู ฺฉูุฏ
- ูพุฑุฏุงุฒุดโูุง ุณูฺฏู ุฑุง ูุญุฏูุฏ ฺฉูุฏ

### ด. ุงููุช
- ุชูฺฉู ุฑุจุงุช ุฑุง ุฏุฑ ูุญุท ุงูู ูฺฏู ุฏุงุฑุฏ
- ูุงฺฏโูุง ุฑุง ุจูโุทูุฑ ููุธู ุจุฑุฑุณ ฺฉูุฏ
- ุฏุณุชุฑุณโูุง ุฑุง ูุญุฏูุฏ ฺฉูุฏ

## ๐ ูพุดุชุจุงู

ุงฺฏุฑ ุจุง ูุดฺฉู ููุงุฌู ุดุฏุฏ:

1. **ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ**
   - ูุงฺฏโูุง ุฑุจุงุช: `/home/your_username/logs/telegram_music_bot.log`
   - ูุงฺฏโูุง ุณุณุชู: `/var/log/apache2/error.log`

2. **ุงุฒ ุฏุณุชูุฑุงุช ุนุจโุงุจ ุงุณุชูุงุฏู ฺฉูุฏ**
```bash
/home/your_username/telegram_music_bot/run_bot.sh health
/home/your_username/telegram_music_bot/run_bot.sh setup
```

3. **ุจุง ุงุฏูู ุชูุงุณ ุจฺฏุฑุฏ**
   - ูุงฺฏโูุง ูุฑุจูุทู ุฑุง ุงุฑุณุงู ฺฉูุฏ
   - ูุฑุงุญู ุงูุฌุงู ุดุฏู ุฑุง ุชูุถุญ ุฏูุฏ

## ๐ ุชุจุฑฺฉ!

ุฑุจุงุช ุชูฺฏุฑุงู ููุณู ุดูุง ุจุง ููููุช ุฑู PythonAnywhere ุฑุงูโุงูุฏุงุฒ ุดุฏ. ุญุงูุง ูโุชูุงูุฏ:

- ุขููฺฏโูุง ุฑุง ุจุง ุงุฑุณุงู ูุงู ุตูุช ุชุดุฎุต ุฏูุฏ
- ููุณู ุงุฒ ูพูุชูุฑูโูุง ูุฎุชูู ุฏุงูููุฏ ฺฉูุฏ
- ุงุฒ ูุงุจูุชโูุง ุงููุงู ุฏุฑ ฺฏุฑููโูุง ุงุณุชูุงุฏู ฺฉูุฏ
- ุฒุจุงู ุฑุจุงุช ุฑุง ุชุบุฑ ุฏูุฏ
- ู ุจุณุงุฑ ุงุฒ ูุงุจูุชโูุง ุฏฺฏุฑ...

ูููู ุจุงุดุฏ! ๐ต