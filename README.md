# Telegram Music Bot

یک ربات تلگرامی هوشمند برای تشخیص، جستجو و دانلود موسیقی از پلتفرم‌های مختلف.

## 🌟 ویژگی‌ها

### 🔍 تشخیص آهنگ
- ارسال فایل صوتی برای تشخیص خودکار آهنگ با استفاده از ShazamIO
- پشتیبانی از فرمت‌های مختلف صوتی (MP3, OGG, WAV)
- نمایش اطلاعات کامل آهنگ (نام، هنرمند، آلبوم)

### 📥 دانلود از پلتفرم‌ها
- **یوتیوب**: دانلود موسیقی و ویدیوهای یوتیوب
- **اینستاگرام**: دانلود موسیقی از پست‌ها و ریلزها
- **تیک‌تاک**: دانلود موسیقی از ویدیوهای تیک‌تاک
- **پینترست**: دانلود موسیقی از پین‌های صوتی
- **ساندکلاد**: دانلود موسیقی از ساندکلاد

### 🎼 جستجوی آهنگ
- جستجوی آهنگ با استفاده از اینلاین کیبورد
- قابلیت استفاده در گروه‌ها و کانال‌ها
- نمایش نتایج با جزئیات کامل

### 🏷️ ویرایش اطلاعات
- ویرایش نام آهنگ، هنرمند و آلبوم
- ذخیره اطلاعات ویرایش شده

### 🌍 چندزبانه
- پشتیبانی از فارسی و انگلیسی
- تغییر زبان به صورت داینامیک
- رابط کاربری محلی‌سازی شده

## 🚀 نصب و راه‌اندازی

### پیش‌نیازها
- Python 3.8 یا بالاتر
- دسترسی به اینترنت
- توکن ربات تلگرام (از @BotFather)

### مراحل نصب

1. **دانلود پروژه**
```bash
git clone https://github.com/yourusername/telegram-music-bot.git
cd telegram-music-bot
```

2. **اجرای اسکریپت نصب**
```bash
chmod +x setup.sh
./setup.sh
```

3. **پیکربندی ربات**
- توکن ربات تلگرام خود را وارد کنید
- نام کاربری ربات را وارد کنید
- شناسه کاربری ادمین را وارد کنید
- (اختیاری) اطلاعات Spotify را برای متادیتای بهتر وارد کنید

4. **اجرای ربات**
```bash
./start_bot.sh
```

## 🛠️ پیکربندی دستی

اگر می‌خواهید به صورت دستی پیکربندی کنید، فایل `config/config.py` را ویرایش کنید:

```python
# Bot Configuration
BOT_TOKEN = "YOUR_TELEGRAM_BOT_TOKEN_HERE"
BOT_USERNAME = "YourMusicBot"
ADMIN_USER_ID = 123456789

# Optional: Spotify Configuration
SPOTIFY_CLIENT_ID = ""
SPOTIFY_CLIENT_SECRET = ""
```

## 📱 دستورات ربات

- `/start` - شروع ربات و نمایش منوی اصلی
- `/help` - نمایش راهنما
- `/language` - تغییر زبان ربات

## 🎯 نحوه استفاده

### ۱. تشخیص آهنگ
1. یک فایل صوتی برای ربات ارسال کنید
2. ربات به صورت خودکار آهنگ را تشخیص می‌دهد
3. اطلاعات آهنگ به همراه گزینه‌های بیشتر نمایش داده می‌شود

### ۲. دانلود از لینک
1. لینک مورد نظر را از پلتفرم‌های پشتیبانی شده ارسال کنید
2. ربات فایل را دانلود و تشخیص می‌دهد
3. فایل صوتی برای شما ارسال می‌شود

### ۳. جستجوی اینلاین
1. در هر چتی، `@YourMusicBot` را تایپ کنید
2. نام آهنگ یا هنرمند را جستجو کنید
3. نتایج را انتخاب و ارسال کنید

### ۴. ویرایش اطلاعات
1. از دکمه "ویرایش اطلاعات آهنگ" استفاده کنید
2. اطلاعات مورد نظر را ویرایش کنید
3. تغییرات ذخیره می‌شود

## 🌐 راه‌اندازی روی PythonAnywhere

### ۱. آپلود فایل‌ها
1. تمام فایل‌های پروژه را به حساب PythonAnywhere خود آپلود کنید
2. مسیر پروژه باید چیزی شبیه به `/home/yourusername/telegram_music_bot` باشد

### ۲. ایجاد virtual environment
```bash
cd /home/yourusername/telegram_music_bot
python3.8 -m venv virtualenv
source virtualenv/bin/activate
pip install -r requirements.txt
```

### ۳. پیکربندی فایل‌ها
- فایل `wsgi_config.py` را ویرایش کنید و `your_username` را با نام کاربری واقعی خود جایگزین کنید
- فایل `run_bot.sh` را ویرایش کنید و `your_username` را با نام کاربری واقعی خود جایگزین کنید

### ۴. ایجاد Task
1. به بخش **Tasks** در PythonAnywhere بروید
2. یک Task جدید با مشخصات زیر ایجاد کنید:
   - **Command**: `/home/yourusername/telegram_music_bot/run_bot.sh`
   - **Timeout**: 24 hours
   - **Hour**: `*`
   - **Minute**: `*/5`

### ۵. اجرای ربات
- Task را فعال کنید
- ربات باید به صورت خودکار هر 5 دقیقه اجرا شود

## 🔧 عیب‌یابی

### مشکلات رایج

**۱. خطای "Module not found"**
```bash
pip install -r requirements.txt
```

**۲. خطای "Permission denied"**
```bash
chmod +x setup.sh
chmod +x start_bot.sh
```

**۳. ربات پاسخ نمی‌دهد**
- اتصال اینترنت را بررسی کنید
- توکن ربات را بررسی کنید
- لاگ‌ها را در پوشه `logs` بررسی کنید

**۴. مشکل در دانلود فایل‌ها**
- فضای دیسک را بررسی کنید
- اتصال اینترنت را بررسی کنید
- لینک را بررسی کنید

### لاگ‌ها
تمامی لاگ‌ها در پوشه `logs` ذخیره می‌شوند:
- `bot.log` - لاگ‌های اصلی ربات

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده است.

## 🤝 مشارکت

مشارکت‌ها خوش آمد می‌شوند! لطفاً برای هرگونه بهبود یا گزارش مشکل، یک issue ایجاد کنید.

## 📞 پشتیبانی

اگر سوال یا مشکلی دارید:
1. بخش **Issues** را بررسی کنید
2. یک issue جدید ایجاد کنید
3. یا با ادمین تماس بگیرید

---

**توجه**: این ربات فقط برای اهداف آموزشی و شخصی طراحی شده است. لطفاً از قوانین کپی‌رایت پیروی کنید.